!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(2),i=r(3);new class{constructor(){this.positions=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1],this.indices=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],this.faceColors=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1],this.draw()}draw(){let e=document.querySelector("#glcanvas");this.canvas=e;let t=e.getContext("webgl");if(this.gl=t,!t)return void console.log("你的浏览器不支持webgl");let r=t.createProgram();const i=this.loadShader(t,t.VERTEX_SHADER,n.default),a=this.loadShader(t,t.FRAGMENT_SHADER,o.default);t.attachShader(r,i),t.attachShader(r,a),t.linkProgram(r),t.useProgram(r),t.clearColor(0,0,0,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.useProgram(r),this.drawScene(t,r)}drawScene(e,t){let r=e.getAttribLocation(t,"a_position");this.worldViewProjectionLoc=e.getUniformLocation(t,"u_worldViewProjection");let o=e.getAttribLocation(t,"aVertexColor"),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.positions),e.STATIC_DRAW),e.vertexAttribPointer(r,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r);let i=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indices),e.STATIC_DRAW);let a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.faceColors),e.STATIC_DRAW),e.vertexAttribPointer(o,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o),window.requestAnimationFrame(this.render.bind(this))}render(e){e/=1e3;let t=this.gl;t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);let r=45*Math.PI/180,o=this.canvas.clientWidth/this.canvas.clientHeight,n=i.default.perspective(r,o,.01,500),a=[5*Math.sin(e),1,5*Math.cos(e)],l=i.default.lookAt(a,[0,0,0],[0,1,0]),c=i.default.multiplyMatrix(l,n);t.uniformMatrix4fv(this.worldViewProjectionLoc,!1,c),t.drawElements(t.TRIANGLES,this.indices.length,t.UNSIGNED_SHORT,0),requestAnimationFrame(this.render.bind(this))}loadShader(e,t,r){const o=e.createShader(t);return e.shaderSource(o,r),e.compileShader(o),o}}},function(e,t,r){"use strict";r.r(t),t.default="\r\nvarying lowp vec4 vColor;\r\nvoid main() {\r\n    gl_FragColor = vColor;\r\n}"},function(e,t,r){"use strict";r.r(t),t.default="attribute vec4 a_position;\r\nuniform mat4 u_worldViewProjection;\r\nattribute vec4 aVertexColor;\r\n\r\nvarying lowp vec4 vColor;\r\n\r\nvoid main() {\r\n    gl_Position = u_worldViewProjection * a_position;\r\n    vColor = aVertexColor;\r\n}"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{static subVector(e,t){let r=[],o=e.length;for(let n=0;n<o;++n)r[n]=e[n]-t[n];return r}static dot(e,t){let r=0,o=e.length;for(let n=0;n<o;++n)r+=e[n]*t[n];return r}static cross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}static normalize(e){let t=[],r=0,o=e.length;for(let t=0;t<o;++t)r+=e[t]*e[t];if(r=Math.sqrt(r),r>1e-5)for(let n=0;n<o;++n)t[n]=e[n]/r;else t=[0,0,0];return t}static transformPoint(e,t){let r=t[0],o=t[1],n=t[2],i=r*e[3]+o*e[7]+n*e[11]+e[15];return[(r*e[0]+o*e[4]+n*e[8]+e[12])/i,(r*e[1]+o*e[5]+n*e[9]+e[13])/i,(r*e[2]+o*e[6]+n*e[10]+e[14])/i]}static identity(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}static multiplyMatrix(e,t){let r=e[0],o=e[1],n=e[2],i=e[3],a=e[4],l=e[5],c=e[6],s=e[7],u=e[8],d=e[9],f=e[10],h=e[11],A=e[12],_=e[13],b=e[14],v=e[15],p=t[0],R=t[1],m=t[2],g=t[3],E=t[4],F=t[5],w=t[6],y=t[7],P=t[8],S=t[9],T=t[10],B=t[11],C=t[12],M=t[13],x=t[14],L=t[15];return[r*p+o*E+n*P+i*C,r*R+o*F+n*S+i*M,r*m+o*w+n*T+i*x,r*g+o*y+n*B+i*L,a*p+l*E+c*P+s*C,a*R+l*F+c*S+s*M,a*m+l*w+c*T+s*x,a*g+l*y+c*B+s*L,u*p+d*E+f*P+h*C,u*R+d*F+f*S+h*M,u*m+d*w+f*T+h*x,u*g+d*y+f*B+h*L,A*p+_*E+b*P+v*C,A*R+_*F+b*S+v*M,A*m+_*w+b*T+v*x,A*g+_*y+b*B+v*L]}static inverse(e){let t=e[10]*e[15],r=e[14]*e[11],o=e[6]*e[15],n=e[14]*e[7],i=e[6]*e[11],a=e[10]*e[7],l=e[2]*e[15],c=e[14]*e[3],s=e[2]*e[11],u=e[10]*e[3],d=e[2]*e[7],f=e[6]*e[3],h=e[8]*e[13],A=e[12]*e[9],_=e[4]*e[13],b=e[12]*e[5],v=e[4]*e[9],p=e[8]*e[5],R=e[0]*e[13],m=e[12]*e[1],g=e[0]*e[9],E=e[8]*e[1],F=e[0]*e[5],w=e[4]*e[1],y=t*e[5]+n*e[9]+i*e[13]-(r*e[5]+o*e[9]+a*e[13]),P=r*e[1]+l*e[9]+u*e[13]-(t*e[1]+c*e[9]+s*e[13]),S=o*e[1]+c*e[5]+d*e[13]-(n*e[1]+l*e[5]+f*e[13]),T=a*e[1]+s*e[5]+f*e[9]-(i*e[1]+u*e[5]+d*e[9]),B=1/(e[0]*y+e[4]*P+e[8]*S+e[12]*T);return[B*y,B*P,B*S,B*T,B*(r*e[4]+o*e[8]+a*e[12]-(t*e[4]+n*e[8]+i*e[12])),B*(t*e[0]+c*e[8]+s*e[12]-(r*e[0]+l*e[8]+u*e[12])),B*(n*e[0]+l*e[4]+f*e[12]-(o*e[0]+c*e[4]+d*e[12])),B*(i*e[0]+u*e[4]+d*e[8]-(a*e[0]+s*e[4]+f*e[8])),B*(h*e[7]+b*e[11]+v*e[15]-(A*e[7]+_*e[11]+p*e[15])),B*(A*e[3]+R*e[11]+E*e[15]-(h*e[3]+m*e[11]+g*e[15])),B*(_*e[3]+m*e[7]+F*e[15]-(b*e[3]+R*e[7]+w*e[15])),B*(p*e[3]+g*e[7]+w*e[11]-(v*e[3]+E*e[7]+F*e[11])),B*(_*e[10]+p*e[14]+A*e[6]-(v*e[14]+h*e[6]+b*e[10])),B*(g*e[14]+h*e[2]+m*e[10]-(R*e[10]+E*e[14]+A*e[2])),B*(R*e[6]+w*e[14]+b*e[2]-(F*e[14]+_*e[2]+m*e[6])),B*(F*e[10]+v*e[2]+E*e[6]-(g*e[6]+w*e[10]+p*e[2]))]}static perspective(e,t,r,o){let n=Math.tan(.5*Math.PI-.5*e),i=1/(r-o);return[n/t,0,0,0,0,n,0,0,0,0,(r+o)*i,-1,0,0,r*o*i*2,0]}static cameraLookAt(e,t,r){let n=o.normalize(o.subVector(e,t)),i=o.normalize(o.cross(r,n)),a=o.cross(n,i);return o.inverse([i[0],i[1],i[2],0,a[0],a[1],a[2],0,n[0],n[1],n[2],0,-o.dot(i,e),-o.dot(a,e),-o.dot(n,e),1])}static lookAt(e,t,r){return o.inverse(o.cameraLookAt(e,t,r))}}t.default=o}]);
//# sourceMappingURL=bundle.js.map