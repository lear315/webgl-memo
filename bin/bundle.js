!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(1),i=r(2),o=r(3);new class{constructor(){this.positions=[-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1],this.indices=[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7],this.draw()}draw(){let t=document.querySelector("#glcanvas");this.canvas=t;let e=t.getContext("webgl");if(this.gl=e,!e)return void console.log("你的浏览器不支持webgl");let r=e.createProgram();const o=this.loadShader(e,e.VERTEX_SHADER,i.default),a=this.loadShader(e,e.FRAGMENT_SHADER,n.default);e.attachShader(r,o),e.attachShader(r,a),e.linkProgram(r),e.useProgram(r),e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.useProgram(r),this.drawScene(e,r)}drawScene(t,e){let r=t.getAttribLocation(e,"a_position");this.worldViewProjectionLoc=t.getUniformLocation(e,"u_worldViewProjection");let n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.positions),t.STATIC_DRAW),t.vertexAttribPointer(r,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(r);let i=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indices),t.STATIC_DRAW),window.requestAnimationFrame(this.render.bind(this))}render(t){t/=1e3;let e=this.gl;e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);let r=45*Math.PI/180,n=this.canvas.clientWidth/this.canvas.clientHeight,i=o.default.perspective(r,n,.01,500),a=[5*Math.sin(t),1,5*Math.cos(t)],l=o.default.lookAt(a,[0,0,0],[0,1,0]),s=o.default.multiplyMatrix(l,i);e.uniformMatrix4fv(this.worldViewProjectionLoc,!1,s),e.drawElements(e.LINES,this.indices.length,e.UNSIGNED_SHORT,0),requestAnimationFrame(this.render.bind(this))}loadShader(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}}},function(t,e,r){"use strict";r.r(e),e.default="void main() {\r\n    gl_FragColor = vec4(1,1,1,1);\r\n}"},function(t,e,r){"use strict";r.r(e),e.default="attribute vec4 a_position;\r\nuniform mat4 u_worldViewProjection;\r\n\r\nvoid main() {\r\n    gl_Position = u_worldViewProjection * a_position;\r\n}"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{static subVector(t,e){let r=[],n=t.length;for(let i=0;i<n;++i)r[i]=t[i]-e[i];return r}static dot(t,e){let r=0,n=t.length;for(let i=0;i<n;++i)r+=t[i]*e[i];return r}static cross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}static normalize(t){let e=[],r=0,n=t.length;for(let e=0;e<n;++e)r+=t[e]*t[e];if(r=Math.sqrt(r),r>1e-5)for(let i=0;i<n;++i)e[i]=t[i]/r;else e=[0,0,0];return e}static transformPoint(t,e){let r=e[0],n=e[1],i=e[2],o=r*t[3]+n*t[7]+i*t[11]+t[15];return[(r*t[0]+n*t[4]+i*t[8]+t[12])/o,(r*t[1]+n*t[5]+i*t[9]+t[13])/o,(r*t[2]+n*t[6]+i*t[10]+t[14])/o]}static identity(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}static multiplyMatrix(t,e){let r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],l=t[5],s=t[6],c=t[7],u=t[8],d=t[9],f=t[10],h=t[11],_=t[12],p=t[13],b=t[14],m=t[15],A=e[0],g=e[1],E=e[2],v=e[3],R=e[4],P=e[5],S=e[6],w=e[7],F=e[8],y=e[9],T=e[10],M=e[11],B=e[12],O=e[13],j=e[14],L=e[15];return[r*A+n*R+i*F+o*B,r*g+n*P+i*y+o*O,r*E+n*S+i*T+o*j,r*v+n*w+i*M+o*L,a*A+l*R+s*F+c*B,a*g+l*P+s*y+c*O,a*E+l*S+s*T+c*j,a*v+l*w+s*M+c*L,u*A+d*R+f*F+h*B,u*g+d*P+f*y+h*O,u*E+d*S+f*T+h*j,u*v+d*w+f*M+h*L,_*A+p*R+b*F+m*B,_*g+p*P+b*y+m*O,_*E+p*S+b*T+m*j,_*v+p*w+b*M+m*L]}static inverse(t){let e=t[10]*t[15],r=t[14]*t[11],n=t[6]*t[15],i=t[14]*t[7],o=t[6]*t[11],a=t[10]*t[7],l=t[2]*t[15],s=t[14]*t[3],c=t[2]*t[11],u=t[10]*t[3],d=t[2]*t[7],f=t[6]*t[3],h=t[8]*t[13],_=t[12]*t[9],p=t[4]*t[13],b=t[12]*t[5],m=t[4]*t[9],A=t[8]*t[5],g=t[0]*t[13],E=t[12]*t[1],v=t[0]*t[9],R=t[8]*t[1],P=t[0]*t[5],S=t[4]*t[1],w=e*t[5]+i*t[9]+o*t[13]-(r*t[5]+n*t[9]+a*t[13]),F=r*t[1]+l*t[9]+u*t[13]-(e*t[1]+s*t[9]+c*t[13]),y=n*t[1]+s*t[5]+d*t[13]-(i*t[1]+l*t[5]+f*t[13]),T=a*t[1]+c*t[5]+f*t[9]-(o*t[1]+u*t[5]+d*t[9]),M=1/(t[0]*w+t[4]*F+t[8]*y+t[12]*T);return[M*w,M*F,M*y,M*T,M*(r*t[4]+n*t[8]+a*t[12]-(e*t[4]+i*t[8]+o*t[12])),M*(e*t[0]+s*t[8]+c*t[12]-(r*t[0]+l*t[8]+u*t[12])),M*(i*t[0]+l*t[4]+f*t[12]-(n*t[0]+s*t[4]+d*t[12])),M*(o*t[0]+u*t[4]+d*t[8]-(a*t[0]+c*t[4]+f*t[8])),M*(h*t[7]+b*t[11]+m*t[15]-(_*t[7]+p*t[11]+A*t[15])),M*(_*t[3]+g*t[11]+R*t[15]-(h*t[3]+E*t[11]+v*t[15])),M*(p*t[3]+E*t[7]+P*t[15]-(b*t[3]+g*t[7]+S*t[15])),M*(A*t[3]+v*t[7]+S*t[11]-(m*t[3]+R*t[7]+P*t[11])),M*(p*t[10]+A*t[14]+_*t[6]-(m*t[14]+h*t[6]+b*t[10])),M*(v*t[14]+h*t[2]+E*t[10]-(g*t[10]+R*t[14]+_*t[2])),M*(g*t[6]+S*t[14]+b*t[2]-(P*t[14]+p*t[2]+E*t[6])),M*(P*t[10]+m*t[2]+R*t[6]-(v*t[6]+S*t[10]+A*t[2]))]}static perspective(t,e,r,n){let i=Math.tan(.5*Math.PI-.5*t),o=1/(r-n);return[i/e,0,0,0,0,i,0,0,0,0,(r+n)*o,-1,0,0,r*n*o*2,0]}static cameraLookAt(t,e,r){let i=n.normalize(n.subVector(t,e)),o=n.normalize(n.cross(r,i)),a=n.cross(i,o);return n.inverse([o[0],o[1],o[2],0,a[0],a[1],a[2],0,i[0],i[1],i[2],0,-n.dot(o,t),-n.dot(a,t),-n.dot(i,t),1])}static lookAt(t,e,r){return n.inverse(n.cameraLookAt(t,e,r))}}e.default=n}]);
//# sourceMappingURL=bundle.js.map