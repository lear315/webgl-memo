{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Main.ts","webpack:///./src/shader/Cube.fs","webpack:///./src/shader/Cube.vs","webpack:///./src/utils/ThreeDMath.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","positions","indices","this","draw","canvas","document","querySelector","gl","getContext","console","log","program","createProgram","vertexShader","loadShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","attachShader","linkProgram","useProgram","clearColor","clearDepth","enable","DEPTH_TEST","depthFunc","LEQUAL","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","drawScene","positionLoc","getAttribLocation","worldViewProjectionLoc","getUniformLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","indicesBuffer","ELEMENT_ARRAY_BUFFER","Uint16Array","window","requestAnimationFrame","render","clock","filedOfView","Math","PI","aspect","clientWidth","clientHeight","projection","perspective","eye","sin","cos","view","lookAt","worldViewProjection","multiplyMatrix","uniformMatrix4fv","drawElements","LINES","length","UNSIGNED_SHORT","type","source","shader","createShader","shaderSource","compileShader","ThreeDMath","a","b","aLength","sqrt","v","v0","v1","v2","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b10","b11","b12","b13","b20","b21","b22","b23","b30","b31","b32","b33","tmp_0","tmp_1","tmp_2","tmp_3","tmp_4","tmp_5","tmp_6","tmp_7","tmp_8","tmp_9","tmp_10","tmp_11","tmp_12","tmp_13","tmp_14","tmp_15","tmp_16","tmp_17","tmp_18","tmp_19","tmp_20","tmp_21","tmp_22","tmp_23","t0","t1","t2","t3","angle","near","far","f","tan","rangeInv","target","up","vz","normalize","subVector","vx","cross","vy","inverse","dot","cameraLookAt"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import CubeFs from \"./shader/Cube.fs\"\r\nimport CubeVs from \"./shader/Cube.vs\"\r\nimport ThreeDMath from \"./utils/ThreeDMath\";\r\n\r\nclass Main {\r\n\tprivate gl:  WebGLRenderingContext;\r\n\tprivate canvas: HTMLCanvasElement\r\n\r\n\r\n\r\n\t// 正方体顶点\r\n\tprivate positions: number[] = [\r\n\t\t-1, -1, -1,\r\n\t\t1, -1, -1,\r\n\t\t1,  1, -1,\r\n\t   -1,  1, -1,\r\n\t   -1, -1,  1,\r\n\t\t1, -1,  1,\r\n\t\t1,  1,  1,\r\n\t   -1,  1,  1,\r\n\t];\r\n\r\n\t// 指定绘制顺序的索引数组\r\n\tprivate indices: number[] = [\r\n\t\t0, 1,\r\n\t\t1, 2,\r\n\t\t2, 3,\r\n\t\t3, 0,\r\n\t\t4, 5,\r\n\t\t5, 6,\r\n\t\t6, 7,\r\n\t\t7, 4,\r\n\t\t0, 4,\r\n\t\t1, 5,\r\n\t\t2, 6,\r\n\t\t3, 7,\r\n\t];\r\n\r\n\tprivate worldViewProjectionLoc: WebGLUniformLocation;\r\n\r\n\tconstructor() {\r\n\t\tthis.draw();\r\n\t}\r\n\r\n\tprivate draw() {  \r\n\t\t// print11();\r\n\r\n\t\t// 获取 <canvas> 元素\r\n\t\tlet canvas = document.querySelector(\"#glcanvas\") as HTMLCanvasElement;\r\n\t\tthis.canvas = canvas;\r\n\r\n\t\t// 获取WebGL渲染上下文\r\n\t\tlet gl = canvas.getContext('webgl');\r\n\t\tthis.gl = gl;\r\n\r\n\r\n\t\tif (!gl) {\r\n\t\t\tconsole.log('你的浏览器不支持webgl');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// 创建程序对象\r\n\t\tlet program = gl.createProgram();\r\n\r\n\t\tconst vertexShader = this.loadShader(gl, gl.VERTEX_SHADER, CubeVs); //创建顶点着色器对象\r\n\t\tconst fragmentShader = this.loadShader(gl, gl.FRAGMENT_SHADER, CubeFs);//创建片元着色器对象\r\n\r\n\t\t// 为程序对象分配着色器\r\n\t\tgl.attachShader(program, vertexShader);\r\n\t\tgl.attachShader(program, fragmentShader);\r\n\r\n\t\t// 连接程序对象\r\n\t\tgl.linkProgram(program);\r\n\r\n\t\t// 使用程序对象\r\n\t\tgl.useProgram(program);\r\n\r\n\t\t// 指定清空<canvas>的颜色\r\n\t\tgl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n\t\t// 指定深度\r\n\t\tgl.clearDepth(1.0);\r\n\t\t// 开启深度检测\r\n\t\tgl.enable(gl.DEPTH_TEST);\r\n\t\t// 深度小等于时渲染\r\n\t\tgl.depthFunc(gl.LEQUAL);\r\n\t\t// 清空<canvas>\r\n\t\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n\t\tgl.useProgram(program);\r\n\t\t// 绘制图形\r\n\t\tthis.drawScene(gl, program);\r\n  \t}\r\n\r\n\tprivate drawScene(gl: WebGLRenderingContext, program: WebGLProgram) {\r\n\t\t// 获取在着色器中声明的变量\r\n\t\tlet positionLoc = gl.getAttribLocation(program, \"a_position\");\r\n\t\tthis.worldViewProjectionLoc = gl.getUniformLocation(program, \"u_worldViewProjection\");\r\n\r\n\t\t// 正方体顶点\r\n\t\tlet positionBuffer = gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.positions), gl.STATIC_DRAW);\r\n\t\tgl.vertexAttribPointer(positionLoc, 3, gl.FLOAT, false, 0, 0);\r\n\t\tgl.enableVertexAttribArray(positionLoc);\r\n\r\n\r\n\t\tlet indicesBuffer = gl.createBuffer();\r\n\t\t// gl.ELEMENT_ARRAY_BUFFER 表示数据是索引\r\n\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indicesBuffer);\r\n\t\tgl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(this.indices), gl.STATIC_DRAW);\r\n\r\n\t\t// 每帧刷新\r\n\t\twindow.requestAnimationFrame(this.render.bind(this));\r\n\t}\r\n\r\n\tprivate render(clock: number) {\r\n\t\t// 毫秒转秒\r\n\t\tclock = clock / 1000;\r\n\r\n\t\tlet gl = this.gl;\r\n\t\tgl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n\t\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n\t\t// 投影矩阵\r\n\t\tlet filedOfView = 45 * Math.PI / 180;\r\n\t\tlet aspect = this.canvas.clientWidth / this.canvas.clientHeight;\r\n\t\tlet projection = ThreeDMath.perspective(filedOfView, aspect, 0.01, 500);\r\n\t\tlet radius = 5;\r\n\r\n\r\n\t\tlet eye = [\r\n\t\t\tMath.sin(clock) * radius,\r\n\t\t\t1,\r\n\t\t\tMath.cos(clock) * radius,\r\n\t\t];\r\n\t\tlet target = [0, 0, 0];\r\n\t\tlet up = [0, 1, 0];\r\n\t\t// 视图矩阵\r\n\t\tlet view = ThreeDMath.lookAt(eye, target, up);\r\n\r\n\t\tlet worldViewProjection = ThreeDMath.multiplyMatrix(view, projection);\r\n\t\tgl.uniformMatrix4fv(this.worldViewProjectionLoc, false, worldViewProjection);\r\n\t\t// gl.drawElements 表示使用索引值来画\r\n\t\t// 第一个参数还是表示要画的线,第二参数表示要画的索引的个数\r\n\t\t// 第三个参数表示索引值的类型，我们用了 Uint16，所以类型是 gl.UNSIGNED_SHORT\r\n\t\t// 最后一个参数是 offset 表示起始偏移\r\n\t\tgl.drawElements(gl.LINES, this.indices.length, gl.UNSIGNED_SHORT, 0);\r\n\t\trequestAnimationFrame(this.render.bind(this));\r\n\t}\r\n\r\n\tprivate loadShader(gl: WebGLRenderingContext, type: number, source: string) {\r\n\t\t// 创建着色器对象\r\n\t\tconst shader = gl.createShader(type);\r\n\t\t// 向着色器对象中填充着色器\r\n\t\tgl.shaderSource(shader, source);\r\n\t\t// 编译着色器\r\n\t\tgl.compileShader(shader);\r\n\r\n\t\treturn shader;\r\n\t}\r\n}\r\n\r\nnew Main();","export default \"void main() {\\r\\n    gl_FragColor = vec4(1,1,1,1);\\r\\n}\";","export default \"attribute vec4 a_position;\\r\\nuniform mat4 u_worldViewProjection;\\r\\n\\r\\nvoid main() {\\r\\n    gl_Position = u_worldViewProjection * a_position;\\r\\n}\";","export default class ThreeDMath {\r\n\r\n  \tpublic static subVector(a: number[], b: number[]): number[] {\r\n\t\tlet r = [];\r\n\t\tlet aLength = a.length;\r\n\t\tfor (let i = 0; i < aLength; ++i)\r\n\t\t\tr[i] = a[i] - b[i];\r\n\t\treturn r;\r\n\t}\r\n\r\n\tpublic static dot(a: number[], b: number[]): number {\r\n\t\tlet r = 0.0;\r\n\t\tlet aLength = a.length;\r\n\t\tfor (let i = 0; i < aLength; ++i)\r\n\t\t  r += a[i] * b[i];\r\n\t\treturn r;\r\n\t}\r\n\r\n\tpublic static cross(a: number[], b: number[]): number[] {\r\n\t\treturn [a[1] * b[2] - a[2] * b[1],\r\n\t\ta[2] * b[0] - a[0] * b[2],\r\n\t\ta[0] * b[1] - a[1] * b[0]];\r\n\t}\r\n\r\n\t\r\n\tpublic static normalize(a: number[]): number[] {\r\n\t\tlet r = [];\r\n\t\tlet n = 0.0;\r\n\t\tlet aLength = a.length;\r\n\t\tfor (let i = 0; i < aLength; ++i)\r\n\t\t\tn += a[i] * a[i];\r\n\t\tn = Math.sqrt(n);\r\n\t\tif (n > 0.00001) {\r\n\t\t\tfor (let i = 0; i < aLength; ++i)\r\n\t\t\t\tr[i] = a[i] / n;\r\n\t\t} else {\r\n\t\t  \tr = [0,0,0];\r\n\t\t}\r\n\t\treturn r;\r\n\t}\r\n\r\n\r\n\tpublic static transformPoint(m: number[], v: number[]): number[] {\r\n\t\tlet v0 = v[0];\r\n\t\tlet v1 = v[1];\r\n\t\tlet v2 = v[2];\r\n\t\tlet d = v0 * m[0*4+3] + v1 * m[1*4+3] + v2 * m[2*4+3] + m[3*4+3];\r\n\t\treturn [(v0 * m[0*4+0] + v1 * m[1*4+0] + v2 * m[2*4+0] + m[3*4+0]) / d,\r\n\t\t\t\t(v0 * m[0*4+1] + v1 * m[1*4+1] + v2 * m[2*4+1] + m[3*4+1]) / d,\r\n\t\t\t\t(v0 * m[0*4+2] + v1 * m[1*4+2] + v2 * m[2*4+2] + m[3*4+2]) / d];\r\n\t}\r\n\r\n\tpublic static identity(): number[] {\r\n\t\treturn [\r\n\t\t\t1, 0, 0, 0,\r\n\t\t\t0, 1, 0, 0,\r\n\t\t\t0, 0, 1, 0,\r\n\t\t\t0, 0, 0, 1\r\n\t\t];\r\n\t}\r\n\r\n\tpublic static multiplyMatrix(a: number[], b: number[]): number[] {\r\n\t\tlet a00 = a[0*4+0];\r\n\t\tlet a01 = a[0*4+1];\r\n\t\tlet a02 = a[0*4+2];\r\n\t\tlet a03 = a[0*4+3];\r\n\t\tlet a10 = a[1*4+0];\r\n\t\tlet a11 = a[1*4+1];\r\n\t\tlet a12 = a[1*4+2];\r\n\t\tlet a13 = a[1*4+3];\r\n\t\tlet a20 = a[2*4+0];\r\n\t\tlet a21 = a[2*4+1];\r\n\t\tlet a22 = a[2*4+2];\r\n\t\tlet a23 = a[2*4+3];\r\n\t\tlet a30 = a[3*4+0];\r\n\t\tlet a31 = a[3*4+1];\r\n\t\tlet a32 = a[3*4+2];\r\n\t\tlet a33 = a[3*4+3];\r\n\t\tlet b00 = b[0*4+0];\r\n\t\tlet b01 = b[0*4+1];\r\n\t\tlet b02 = b[0*4+2];\r\n\t\tlet b03 = b[0*4+3];\r\n\t\tlet b10 = b[1*4+0];\r\n\t\tlet b11 = b[1*4+1];\r\n\t\tlet b12 = b[1*4+2];\r\n\t\tlet b13 = b[1*4+3];\r\n\t\tlet b20 = b[2*4+0];\r\n\t\tlet b21 = b[2*4+1];\r\n\t\tlet b22 = b[2*4+2];\r\n\t\tlet b23 = b[2*4+3];\r\n\t\tlet b30 = b[3*4+0];\r\n\t\tlet b31 = b[3*4+1];\r\n\t\tlet b32 = b[3*4+2];\r\n\t\tlet b33 = b[3*4+3];\r\n\t\treturn [a00 * b00 + a01 * b10 + a02 * b20 + a03 * b30,\r\n\t\t\t\ta00 * b01 + a01 * b11 + a02 * b21 + a03 * b31,\r\n\t\t\t\ta00 * b02 + a01 * b12 + a02 * b22 + a03 * b32,\r\n\t\t\t\ta00 * b03 + a01 * b13 + a02 * b23 + a03 * b33,\r\n\t\t\t\ta10 * b00 + a11 * b10 + a12 * b20 + a13 * b30,\r\n\t\t\t\ta10 * b01 + a11 * b11 + a12 * b21 + a13 * b31,\r\n\t\t\t\ta10 * b02 + a11 * b12 + a12 * b22 + a13 * b32,\r\n\t\t\t\ta10 * b03 + a11 * b13 + a12 * b23 + a13 * b33,\r\n\t\t\t\ta20 * b00 + a21 * b10 + a22 * b20 + a23 * b30,\r\n\t\t\t\ta20 * b01 + a21 * b11 + a22 * b21 + a23 * b31,\r\n\t\t\t\ta20 * b02 + a21 * b12 + a22 * b22 + a23 * b32,\r\n\t\t\t\ta20 * b03 + a21 * b13 + a22 * b23 + a23 * b33,\r\n\t\t\t\ta30 * b00 + a31 * b10 + a32 * b20 + a33 * b30,\r\n\t\t\t\ta30 * b01 + a31 * b11 + a32 * b21 + a33 * b31,\r\n\t\t\t\ta30 * b02 + a31 * b12 + a32 * b22 + a33 * b32,\r\n\t\t\t\ta30 * b03 + a31 * b13 + a32 * b23 + a33 * b33];\r\n\t}\r\n\r\n\tpublic static inverse(m: number[]): number[] {\r\n\t\tlet tmp_0 = m[2*4+2] * m[3*4+3];\r\n\t\tlet tmp_1 = m[3*4+2] * m[2*4+3];\r\n\t\tlet tmp_2 = m[1*4+2] * m[3*4+3];\r\n\t\tlet tmp_3 = m[3*4+2] * m[1*4+3];\r\n\t\tlet tmp_4 = m[1*4+2] * m[2*4+3];\r\n\t\tlet tmp_5 = m[2*4+2] * m[1*4+3];\r\n\t\tlet tmp_6 = m[0*4+2] * m[3*4+3];\r\n\t\tlet tmp_7 = m[3*4+2] * m[0*4+3];\r\n\t\tlet tmp_8 = m[0*4+2] * m[2*4+3];\r\n\t\tlet tmp_9 = m[2*4+2] * m[0*4+3];\r\n\t\tlet tmp_10 = m[0*4+2] * m[1*4+3];\r\n\t\tlet tmp_11 = m[1*4+2] * m[0*4+3];\r\n\t\tlet tmp_12 = m[2*4+0] * m[3*4+1];\r\n\t\tlet tmp_13 = m[3*4+0] * m[2*4+1];\r\n\t\tlet tmp_14 = m[1*4+0] * m[3*4+1];\r\n\t\tlet tmp_15 = m[3*4+0] * m[1*4+1];\r\n\t\tlet tmp_16 = m[1*4+0] * m[2*4+1];\r\n\t\tlet tmp_17 = m[2*4+0] * m[1*4+1];\r\n\t\tlet tmp_18 = m[0*4+0] * m[3*4+1];\r\n\t\tlet tmp_19 = m[3*4+0] * m[0*4+1];\r\n\t\tlet tmp_20 = m[0*4+0] * m[2*4+1];\r\n\t\tlet tmp_21 = m[2*4+0] * m[0*4+1];\r\n\t\tlet tmp_22 = m[0*4+0] * m[1*4+1];\r\n\t\tlet tmp_23 = m[1*4+0] * m[0*4+1];\r\n\t\t\r\n\t\tlet t0 = (tmp_0 * m[1*4+1] + tmp_3 * m[2*4+1] + tmp_4 * m[3*4+1]) -\r\n\t\t\t(tmp_1 * m[1*4+1] + tmp_2 * m[2*4+1] + tmp_5 * m[3*4+1]);\r\n\t\tlet t1 = (tmp_1 * m[0*4+1] + tmp_6 * m[2*4+1] + tmp_9 * m[3*4+1]) -\r\n\t\t\t(tmp_0 * m[0*4+1] + tmp_7 * m[2*4+1] + tmp_8 * m[3*4+1]);\r\n\t\tlet t2 = (tmp_2 * m[0*4+1] + tmp_7 * m[1*4+1] + tmp_10 * m[3*4+1]) -\r\n\t\t\t(tmp_3 * m[0*4+1] + tmp_6 * m[1*4+1] + tmp_11 * m[3*4+1]);\r\n\t\tlet t3 = (tmp_5 * m[0*4+1] + tmp_8 * m[1*4+1] + tmp_11 * m[2*4+1]) -\r\n\t\t\t(tmp_4 * m[0*4+1] + tmp_9 * m[1*4+1] + tmp_10 * m[2*4+1]);\r\n\t\t\r\n\t\tlet d = 1.0 / (m[0*4+0] * t0 + m[1*4+0] * t1 + m[2*4+0] * t2 + m[3*4+0] * t3);\r\n\t\t\r\n\t\treturn [d * t0, d * t1, d * t2, d * t3,\r\n\t\t\td * ((tmp_1 * m[1*4+0] + tmp_2 * m[2*4+0] + tmp_5 * m[3*4+0]) -\r\n\t\t\t\t(tmp_0 * m[1*4+0] + tmp_3 * m[2*4+0] + tmp_4 * m[3*4+0])),\r\n\t\t\td * ((tmp_0 * m[0*4+0] + tmp_7 * m[2*4+0] + tmp_8 * m[3*4+0]) -\r\n\t\t\t\t(tmp_1 * m[0*4+0] + tmp_6 * m[2*4+0] + tmp_9 * m[3*4+0])),\r\n\t\t\td * ((tmp_3 * m[0*4+0] + tmp_6 * m[1*4+0] + tmp_11 * m[3*4+0]) -\r\n\t\t\t\t(tmp_2 * m[0*4+0] + tmp_7 * m[1*4+0] + tmp_10 * m[3*4+0])),\r\n\t\t\td * ((tmp_4 * m[0*4+0] + tmp_9 * m[1*4+0] + tmp_10 * m[2*4+0]) -\r\n\t\t\t\t(tmp_5 * m[0*4+0] + tmp_8 * m[1*4+0] + tmp_11 * m[2*4+0])),\r\n\t\t\td * ((tmp_12 * m[1*4+3] + tmp_15 * m[2*4+3] + tmp_16 * m[3*4+3]) -\r\n\t\t\t\t(tmp_13 * m[1*4+3] + tmp_14 * m[2*4+3] + tmp_17 * m[3*4+3])),\r\n\t\t\td * ((tmp_13 * m[0*4+3] + tmp_18 * m[2*4+3] + tmp_21 * m[3*4+3]) -\r\n\t\t\t\t(tmp_12 * m[0*4+3] + tmp_19 * m[2*4+3] + tmp_20 * m[3*4+3])),\r\n\t\t\td * ((tmp_14 * m[0*4+3] + tmp_19 * m[1*4+3] + tmp_22 * m[3*4+3]) -\r\n\t\t\t\t(tmp_15 * m[0*4+3] + tmp_18 * m[1*4+3] + tmp_23 * m[3*4+3])),\r\n\t\t\td * ((tmp_17 * m[0*4+3] + tmp_20 * m[1*4+3] + tmp_23 * m[2*4+3]) -\r\n\t\t\t\t(tmp_16 * m[0*4+3] + tmp_21 * m[1*4+3] + tmp_22 * m[2*4+3])),\r\n\t\t\td * ((tmp_14 * m[2*4+2] + tmp_17 * m[3*4+2] + tmp_13 * m[1*4+2]) -\r\n\t\t\t\t(tmp_16 * m[3*4+2] + tmp_12 * m[1*4+2] + tmp_15 * m[2*4+2])),\r\n\t\t\td * ((tmp_20 * m[3*4+2] + tmp_12 * m[0*4+2] + tmp_19 * m[2*4+2]) -\r\n\t\t\t\t(tmp_18 * m[2*4+2] + tmp_21 * m[3*4+2] + tmp_13 * m[0*4+2])),\r\n\t\t\td * ((tmp_18 * m[1*4+2] + tmp_23 * m[3*4+2] + tmp_15 * m[0*4+2]) -\r\n\t\t\t\t(tmp_22 * m[3*4+2] + tmp_14 * m[0*4+2] + tmp_19 * m[1*4+2])),\r\n\t\t\td * ((tmp_22 * m[2*4+2] + tmp_16 * m[0*4+2] + tmp_21 * m[1*4+2]) -\r\n\t\t\t\t(tmp_20 * m[1*4+2] + tmp_23 * m[2*4+2] + tmp_17 * m[0*4+2]))];\r\n\t}\r\n\r\n\r\n\tpublic static perspective(angle: number, aspect: number, near: number, far: number): number[] {\r\n\t\tlet f = Math.tan(Math.PI * 0.5 - 0.5 * angle);\r\n\t\tlet rangeInv = 1.0 / (near - far);\r\n\t  \r\n\t\treturn [\r\n\t\t  f / aspect, 0, 0, 0,\r\n\t\t  0, f, 0, 0,\r\n\t\t  0, 0, (near + far) * rangeInv, -1,\r\n\t\t  0, 0, near * far * rangeInv * 2, 0\r\n\t\t];\r\n\t}\r\n\r\n\tpublic static cameraLookAt(eye: number[], target: number[], up: number[]): number[] {\r\n\t\tlet vz = ThreeDMath.normalize(ThreeDMath.subVector(eye, target));\r\n\t\tlet vx = ThreeDMath.normalize(ThreeDMath.cross(up, vz));\r\n\t\tlet vy = ThreeDMath.cross(vz, vx);\r\n\t  \r\n\t\treturn ThreeDMath.inverse([\r\n\t\t   vx[0], vx[1], vx[2], 0,\r\n\t\t   vy[0], vy[1], vy[2], 0,\r\n\t\t   vz[0], vz[1], vz[2], 0,\r\n\t\t   -ThreeDMath.dot(vx, eye),\r\n\t\t   -ThreeDMath.dot(vy, eye),\r\n\t\t   -ThreeDMath.dot(vz, eye), 1]);\r\n\t}\r\n\r\n\r\n\tpublic static lookAt(eye: number[], target: number[], up: number[]): number[] {\r\n\t\treturn ThreeDMath.inverse(ThreeDMath.cameraLookAt(eye, target, up));\r\n\t}\r\n}\r\n"],"sourceRoot":""}